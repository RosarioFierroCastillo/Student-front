<body>
    <div class="contenedor">

        <div class="form">
            <h2 class="titulo">Deudas Extraordinarias</h2>
            <!-- Formulario para agregar una nueva deuda ordinaria -->
            <form id="formCrear" class="Formulario" #form="ngForm" [formGroup]="UserGroup">

                    <label for="fraccionamiento">Aplicar a:</label>
                    <select type="text" id="tipo_persona" name="tipo_persona" value="tipo_persona"
                     formControlName="tipo_persona">
                     <option value="arrendador">Arrendador</option>
                     <option value="propietario">Propietario</option>
                     <option value="todos">Todos</option>
                     <option value="personalizado">Usuario específico</option>
                    </select>

                    <label for="monto">Monto:</label>
                    <input type="text" id="monto" name="monto" placeholder="Ingrese el monto" required
                    formControlName="monto" [(ngModel)]="deuda.monto">

                    <label for="nombreDeuda">Nombre de Deuda:</label>
                    <input type="text" id="nombre" name="nombre" placeholder="Ingrese el nombre de la deuda"
                    required formControlName="nombre" [(ngModel)]="deuda.nombre">

                    <label for="descripcion">Descripción:</label>
                    <textarea id="descripcion" name="descripcion" placeholder="Ingrese una descripción" 
                    formControlName="descripcion" [(ngModel)]="deuda.descripcion"></textarea>

                    <label for="diasGracia">Fecha de corte:</label>
                    <input type="date" id="proximo_pago" name="proximo_pago" formControlName="proximo_pago" [(ngModel)]="deuda.proximo_pago" required ngModel>



                <div class="botones-container">
                    <button class="boton-verde" (click)="agregar_deuda(form.value)">Agregar</button>
                    <button class="boton-azul" (click)="actualizar_deuda(form.value)">Actualizar</button>
                </div>
            </form>
        </div>
    </div>



    
  <table id="example" class="table table-striped table-bordered" cellspacing="0" width="100%">
    <thead>
      <tr>
        <th>#</th>
        <th>Monto</th>
        <th>Nombre</th>
        <th>Descripción</th>
        <th>Próximo pago</th>
        <th style="text-align:center;width:200px;">
          Editar
        </th>
        <th style="text-align:center;width:200px;">
           Borrar
          </th>
      </tr>
    </thead>
    <tbody> 
      <tr mat-row matRowDef="columns: displayedcolumns;" *ngFor="let deuda of deudas; let j=index"
      (click)="onRowClicked(deuda)">
        <th scope="row">{{deuda.id_deudas}}</th>
        <td>{{deuda.monto}}</td>
        <td>{{deuda.nombre}}</td> 
        <td>{{deuda.descripcion}}</td>
        <td>{{deuda.proximo_pago}}</td>
        <td><a class="btn btn-sm text-white btn-success" style="margin: auto;">
            <span class="glyphicon glyphicon-pencil" aria-hidden="true" (click)="edit(deuda)"></span>
          </a>
          </td>
          <td>
          <a class="btn btn-sm text-white btn-danger" style="margin: auto;">
            <span class="glyphicon glyphicon-remove" aria-hidden="true" (click)="delete(deuda.id_deudas)"></span>
          </a>
        </td>
      </tr>

    </tbody>
  </table>

</body>

